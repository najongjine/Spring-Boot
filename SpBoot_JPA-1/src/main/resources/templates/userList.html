<!DOCTYPE html>
<html>
<head  th:fragment="listHead">
<meta charset="UTF-8">
<title>Insert title here</title>
<style>
table{
border:1px solid blue;
border-collapse: collpase;
width: 90%;
margin: 10px auto;
}
td,th{
white-space: nowrap;
border:1px solid blue;
}
</style>
<script type="text/javascript">
$(function(){
	$(document).on("click","#btn_insert",function(){
		document.location.href="/user/insert";
	})
	$(document).on("click",".u_tr",function(){
		let id=$(this).data("user-id")
		document.location.href="/user/update?id="+id
	})
})
</script>
</head>

<body th:fragment="listBody">
<h2>MEMBER LIST</h2>

<table>
<tr>
	<th>이름</th>
	<th>email</th>
	<th>phone</th>
	<th>address</th>
	<th>비고</th>
</tr>
<tr th:each="user : ${userList}">
	<td th:text=${user.username} class="u_tr" 
	 th:attr="data-user-id=${user.id}" th:data-user-id="${user.id}">이름</td>
	<td th:text=${user.email}>email</td>
	<td th:text=${user.phone}>phone</td>
	<td th:text=${user.address}>address</td>
	<td th:data-user-id="${user.id}"><a th:href="@{/user/delete(id=${user.id})}">삭제</a></td>
</tr>
</table>

<button id="btn_insert">맴버등록</button>
</body>
</html>